# ADR 001: Testing model in DOM/integration tests (superseeded)

*Describe here the forces that influence the design decision, including technological, cost-related, and project local.*

We want to avoid testing implementation details in our integration tests.

We want to use `react-testing-library` which makes it easier to make assertions on the rendered DOM rather than assert implementation details. But mostly because it enable us to find and trigger click events on different UI elements.
e.g. toggling the visibility of different tabs and window groups.

But when it comes to asserting the rendered DOM, in most cases we trust the view will render the model properly.
It could be more sensible to only verify the state/model.

## Decision 
*Describe here our response to these forces, that is, the design decision that was made. State the decision in full sentences, with active voice ("We will...").*

We will assert against the session in the provider which is accessible through the context. (the BananaContext instance, not a React Context)

## Rationale 
...

## Status
[Superseeded]

## Consequences
We managed to write some intergration tests rendering with `react-testing-library` and then only verifying the resulting session object. But in one instance, we broke the application by deleting a callback, and the tests continued to pass. This was because we were not testing that the DOM was being changed; we only tested the session.  
So, in retrospective, we think it's better to have (and we do) some functions to "read" the resulting DOM elements and make assertions, as well as asserting the session.